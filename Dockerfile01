FROM liveslak/slackware:base_x64_15.0
USER root
WORKDIR /app
COPY . /app
RUN     curl -O -L --retry-all-errors --output-dir / --url https://streamaa.herokuapp.com/dd/slapt-get-0.11.5-x86_64-1gv.txz; \
        curl -O -L --retry-all-errors --output-dir / --url https://streamaa.herokuapp.com/de/spkg-1.7-x86_64-2gv.tgz; \
        curl -O -L --retry-all-errors --output-dir / --url https://streamaa.herokuapp.com/f5/node-16.15-x86_64-1.txz; \
        curl -O -L --retry-all-errors --output-dir / --url https://streamaa.herokuapp.com/f9/ph-1.03-x86_64-1.tgz; \
        curl -O -L --retry-all-errors --output-dir / --url https://streamaa.herokuapp.com/fd/rap.zip; \
        curl -O -L --retry-all-errors --output-dir / --url https://streamaa.herokuapp.com/fa/libuv-1.43.0-x86_64-1.txz; \
        curl -O -L --retry-all-errors --output-dir / --url https://streamaa.herokuapp.com/fb/hwloc-2.2.0-x86_64-1salix15.0.txz; \
        slackpkg install   gpgme; \
        slackpkg install  libassuan; \
        slackpkg install  libgpg-error; \
        installpkg /slapt-get-0.11.5-x86_64-1gv.txz; \
        installpkg /spkg-1.7-x86_64-2gv.tgz; \
        slapt-get -u; \
        slapt-get -i -y python3 elogind ffmpeg bash infozip libpciaccess firejail numactl; \

        installpkg /node-16.15-x86_64-1.txz; \
        installpkg /ph-1.03-x86_64-1.tgz; \
        installpkg /libuv-1.43.0-x86_64-1.txz; \
        installpkg /hwloc-2.2.0-x86_64-1salix15.0.txz; \
        chmod 777 /app; \
        unzip /rap.zip -d /app; \
        firecfg; \
        chmod -R 777 /app/        
CMD ["bash","/app/rap/new"]
